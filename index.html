<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portugal Family Road Trip Itinerary</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(
          135deg,
          #0f0f23 0%,
          #1a1a2e 50%,
          #16213e 100%
        );
        min-height: 100%;
        color: #e2e8f0;
        line-height: 1.6;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 24px;
      }

      .header {
        text-align: center;
        margin-bottom: 48px;
        position: relative;
      }

      .header::before {
        content: "";
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, #06b6d4, #3b82f6, #8b5cf6);
        border-radius: 2px;
      }

      .header h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 800;
        background: linear-gradient(135deg, #06b6d4, #3b82f6, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 16px;
        letter-spacing: -0.02em;
      }

      .header p {
        font-size: 1.25rem;
        color: #94a3b8;
        font-weight: 400;
        margin: 8px 0;
      }

      .header .subtitle {
        font-size: 1.1rem;
        color: #64748b;
        font-weight: 500;
      }

      .trip-overview {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 32px;
        margin-bottom: 48px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      }

      .trip-overview h2 {
        font-size: 1.875rem;
        font-weight: 700;
        color: #f1f5f9;
        margin-bottom: 24px;
        text-align: center;
      }

      .overview-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
      }

      .overview-card {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        padding: 24px;
        border-radius: 16px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .overview-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(90deg, #06b6d4, #3b82f6, #8b5cf6);
      }

      .overview-card:hover {
        transform: translateY(-4px);
        background: rgba(255, 255, 255, 0.12);
        box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.3);
      }

      .overview-card h3 {
        font-size: 1.125rem;
        font-weight: 600;
        color: #f1f5f9;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .overview-card p {
        color: #cbd5e1;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .day-selector {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 48px;
        justify-content: center;
        padding: 16px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        backdrop-filter: blur(10px);
      }

      .day-btn {
        background: rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 14px 24px;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 500;
        font-size: 0.95rem;
        position: relative;
        overflow: hidden;
      }

      .day-btn::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transition: left 0.5s;
      }

      .day-btn:hover::before {
        left: 100%;
      }

      .day-btn:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      }

      .day-btn.active {
        background: linear-gradient(135deg, #06b6d4, #3b82f6);
        color: white;
        border-color: transparent;
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      }

      .content-grid {
        display: grid;
        grid-template-columns: 1fr 420px;
        gap: 32px;
        margin-bottom: 48px;
      }

      .day-content {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      }

      .map-container {
        background: rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 24px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        height: fit-content;
        position: sticky;
        top: 24px;
      }

      .map-container h3 {
        color: #f1f5f9;
        font-weight: 600;
        margin-bottom: 16px;
        font-size: 1.125rem;
      }

      #map {
        height: 400px;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .day-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 32px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .day-number {
        background: linear-gradient(135deg, #06b6d4, #3b82f6);
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.5rem;
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
      }

      .day-info h2 {
        margin: 0;
        color: #f1f5f9;
        font-size: 1.75rem;
        font-weight: 700;
        letter-spacing: -0.01em;
      }

      .day-info p {
        margin: 4px 0 0 0;
        color: #94a3b8;
        font-weight: 500;
      }

      .route-info {
        background: rgba(6, 182, 212, 0.1);
        border: 1px solid rgba(6, 182, 212, 0.3);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 32px;
      }

      .route-info h3 {
        margin: 0 0 12px 0;
        color: #06b6d4;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
      }

      .route-info p {
        color: #cbd5e1;
        margin: 0;
      }

      .section {
        margin-bottom: 40px;
      }

      .section h3 {
        color: #f1f5f9;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 1.25rem;
        font-weight: 600;
      }

      .highlight-item {
        background: rgba(245, 158, 11, 0.1);
        border: 1px solid rgba(245, 158, 11, 0.3);
        border-left: 4px solid #f59e0b;
        padding: 20px;
        margin-bottom: 16px;
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .highlight-item:hover {
        background: rgba(245, 158, 11, 0.15);
        transform: translateX(4px);
      }

      .highlight-item h4 {
        margin: 0 0 8px 0;
        color: #fbbf24;
        font-weight: 600;
        font-size: 1.1rem;
      }

      .highlight-item p {
        color: #e2e8f0;
        margin: 0 0 12px 0;
        line-height: 1.5;
      }

      .accommodation {
        background: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.3);
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 24px;
      }

      .accommodation h4 {
        margin: 0 0 16px 0;
        color: #22c55e;
        font-weight: 600;
        font-size: 1.125rem;
      }

      .hotel-options {
        display: grid;
        gap: 16px;
      }

      .hotel-option {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
        text-decoration: none; /* remove underline */
      }

      .hotel-option:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateY(-2px);
      }

      .hotel-option h5 {
        margin: 0 0 8px 0;
        color: #34d399;
        font-weight: 600;
      }

      .hotel-option p {
        color: #cbd5e1;
        margin: 0;
        font-size: 0.95rem;
      }

      .activities {
        display: grid;
        gap: 20px;
      }

      .activity-time {
        background: rgba(139, 92, 246, 0.1);
        border: 1px solid rgba(139, 92, 246, 0.3);
        border-radius: 16px;
        padding: 24px;
        transition: all 0.3s ease;
      }

      .activity-time:hover {
        background: rgba(139, 92, 246, 0.15);
      }

      .activity-time h4 {
        margin: 0 0 16px 0;
        color: #a78bfa;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        font-size: 1.125rem;
      }

      .activity-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .activity-list li {
        padding: 12px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        color: #e2e8f0;
        position: relative;
        padding-left: 20px;
      }

      .activity-list li::before {
        content: "→";
        position: absolute;
        left: 0;
        color: #8b5cf6;
        font-weight: bold;
      }

      .activity-list li:last-child {
        border-bottom: none;
      }

      .legend {
        margin-top: 24px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .legend h4 {
        margin: 0 0 16px 0;
        color: #f1f5f9;
        font-weight: 600;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 10px;
        color: #cbd5e1;
        font-size: 0.9rem;
      }

      .legend-color {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .map-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        padding: 10px 18px;
        border-radius: 10px;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        margin-top: 12px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
      }

      .map-link:hover {
        background: linear-gradient(135deg, #2563eb, #1e40af);
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
      }

      @media (max-width: 1024px) {
        .content-grid {
          grid-template-columns: 1fr;
        }

        .map-container {
          position: static;
        }
      }

      @media (max-width: 768px) {
        .container {
          padding: 16px;
        }

        .header h1 {
          font-size: 2.5rem;
        }

        .overview-grid {
          grid-template-columns: 1fr;
        }

        .day-content,
        .map-container,
        .trip-overview {
          padding: 20px;
        }

        .day-selector {
          padding: 12px;
        }

        .day-btn {
          padding: 12px 20px;
          font-size: 0.9rem;
        }
      }

      /* Scrollbar styling */
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #06b6d4, #3b82f6);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #0891b2, #2563eb);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>Family Road Trip - Portugal</h1>
        <p>October 25-30, 202 • Lisbon to Lisbon Circuit</p>
      </div>

      <div class="trip-overview">
        <h2>Trip Overview</h2>
        <div class="overview-grid">
          <div class="overview-card">
            <h3>🗺️ Route</h3>
            <p>
              LISBON → NAZARE → AVEIRO → PORTO → DOURO VALLEY → SERRA DA ESTRELA
              → ALENTEJO → LISBON
            </p>
          </div>
          <!-- <div class="overview-card">
                    <h3>👨‍👩‍👧‍👦 Travel Style</h3>
                    <p>Private driver, 5-star hotels with suites, teen-friendly balance</p>
                </div>
                <div class="overview-card">
                    <h3>🎯 Interests</h3>
                    <p>Short hikes, horseback riding, tennis, cinema, jazz vibes, great food</p>
                </div> -->
          <div class="overview-card">
            <h3>📅 Duration</h3>
            <p>6 days, 5 nights<br />Total driving: ~12 hours</p>
          </div>
        </div>
      </div>

      <div class="day-selector">
        <button class="day-btn active" onclick="showDay(1)">
          Day 1 - Oct 25
        </button>
        <button class="day-btn" onclick="showDay(2)">Day 2 - Oct 26</button>
        <button class="day-btn" onclick="showDay(3)">Day 3 - Oct 27</button>
        <button class="day-btn" onclick="showDay(4)">Day 4 - Oct 28</button>
        <button class="day-btn" onclick="showDay(5)">Day 5 - Oct 29</button>
        <button class="day-btn" onclick="showDay(6)">Day 6 - Oct 30</button>
      </div>

      <div class="content-grid">
        <div class="day-content" id="day-content">
          <!-- Day content will be populated by JavaScript -->
        </div>

        <div class="map-container">
          <h3>📍 Interactive Route Map</h3>
          <div id="map"></div>
          <div class="legend">
            <h4>Map Legend</h4>
            <div class="legend-item">
              <div class="legend-color" style="background: #ef4444"></div>
              <span>Start/End Points</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #3b82f6"></div>
              <span>Attractions</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #10b981"></div>
              <span>Accommodations</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #f59e0b"></div>
              <span>Restaurants</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      let map;
      let currentDay = 1;

      // Initialize map
      function initMap() {
        map = L.map("map").setView([39.5, -8.0], 7);
        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution: "© OpenStreetMap contributors",
        }).addTo(map);
      }

      // Location data with coordinates
      const locations = {
        lisbon: [38.7223, -9.1393],
        nazare: [39.6017, -9.0708],
        aveiro: [40.6443, -8.6455],
        porto: [41.1579, -8.6291],
        douro: [41.1621, -7.7871],
        serra: [40.3947, -7.6204],
        alentejo: [38.4431, -7.3806],
        evora: [38.5664, -7.9077],
      };

      // Day data
      const dayData = {
        1: {
          title: "Lisbon → Nazaré → Aveiro → Porto",
          date: "Saturday, Oct 25",
          route:
            "🚘 Drive time: ~3 hours total<br>Lisbon → Nazaré (1hr15) → Aveiro (1hr) → Porto (1hr)",
          highlights: [
            {
              title: "Praia da Nazaré & Miradouro do Suberco",
              description:
                "Witness the legendary surf waves and panoramic cliff views.",
              mapLink: "https://maps.app.goo.gl/3iB6Ko8odcw5q4Gg6",
            },
            {
              title: "Costa Nova (Aveiro)",
              description:
                "Visit the colorful striped fishermen houses. Great for family photos.",
              mapLink: "https://maps.app.goo.gl/BmruEP8HPDrh3wxz5",
            },
            {
              title: "Moliceiro Boat Ride",
              description:
                "A relaxing 45-min canal tour with commentary in English.",
              mapLink: "https://maps.app.goo.gl/F7vjYCqTzkoAxTJR7",
            },
            {
              title: "Ovos Moles Tasting",
              description:
                "Try Aveiro's famous sweet pastry at Confeitaria Peixinho (since 1856).",
              mapLink: "https://maps.app.goo.gl/H4Ua6zNyy6eTLP14A",
            },
            {
              title: "Salpoente Restaurant",
              description:
                "Modern Portuguese cuisine with riverside views. Perfect for lunch.",
              mapLink: "https://maps.app.goo.gl/SsSconxTZ2zxMnU56",
            },
            {
              title: "DOP by Rui Paula",
              description:
                "Michelin-starred restaurant in Porto's historic center.",
              mapLink: "https://maps.app.goo.gl/LY6SGvfSTbBuVi35A",
            },
            {
              title: "The Yeatman Restaurant",
              description:
                "2 Michelin-starred dining with panoramic Douro River views.",
              mapLink: "https://maps.app.goo.gl/FevWo5h5geBaLqtr6",
            },
          ],
          accommodation: {
            title: "Porto Accommodation (Oct 25-27)",
            options: [
              {
                name: "The Yeatman Hotel — 5⭐",
                details:
                  "2 Panoramic Suites | Michelin 2-star restaurant | best Douro River views",
                link: "https://www.the-yeatman-hotel.com/",
              },
              {
                name: "The Rebello Hotel — 5⭐",
                details:
                  "2 Chic suites with river views | rooftop pool | family-friendly",
                link: "https://www.therebello.com/",
              },
              {
                name: "Maison Albar - Le Monumental Palace — 5⭐",
                details:
                  "Located in city center | historical charm | Michelin 1-star restaurant",
                link: "https://www.maisonalbar.com/en/hotel/le-monumental-palace-porto/",
              },
            ],
          },
          activities: {
            morning: [
              "Walk to Miradouro do Suberco for stunning ocean views",
              "Stroll through Costa Nova with its colorful striped houses",
            ],
            afternoon: [
              "Take a 30-min moliceiro boat ride through the canals",
              "Lunch at Salpoente Restaurant (modern Portuguese, riverside)",
              "Leisurely stroll at Ribeira Riverfront ✨",
            ],
            evening: [
              "Fine dining: DOP by Rui Paula or The Yeatman Restaurant (Michelin-star)",
              "Casual alternative: Taberna dos Mercadores (authentic small plates)",
            ],
          },
          mapPoints: ["lisbon", "nazare", "aveiro", "porto"],
        },
        2: {
          title: "Explore Porto",
          date: "Sunday, Oct 26",
          route: "🏙️ Full day exploring Porto",
          highlights: [
            {
              title: "Street Art & Vintage Cinema Walking Tour 🎨🎬",
              description:
                "Visit hidden murals in Rua da Madeira and Miguel Bombarda district. Explore Cinemas Trindade — oldest cinema in the city.",
              mapLink: "https://maps.app.goo.gl/XLSpjNj4gMGWrhxU8",
            },
            {
              title: "Livraria Lello",
              description:
                "Visit the world-famous bookstore with its stunning neo-gothic architecture and magical spiral staircase.",
              mapLink: "https://maps.google.com/?q=Livraria+Lello+Porto",
            },
            {
              title: "Clérigos Tower",
              description:
                "Climb the iconic baroque tower for panoramic views over Porto's historic center.",
              mapLink: "https://maps.google.com/?q=Clerigos+Tower+Porto",
            },
            {
              title: "Cantina 32",
              description:
                "Stylish comfort food restaurant with modern Portuguese cuisine in a trendy setting.",
              mapLink: "https://maps.google.com/?q=Cantina+32+Porto",
            },
            {
              title: "Neonia Museum ⚡",
              description:
                "Interactive neon art museum showcasing vintage neon signs and contemporary light installations.",
              mapLink: "https://maps.google.com/?q=Neonia+Museum+Porto",
            },
            {
              title: "The Rebello Rooftop 🍸",
              description:
                "Rooftop drinks & sunset with panoramic views over the Douro River and Porto's skyline.",
              mapLink: "https://maps.google.com/?q=The+Rebello+Hotel+Porto",
            },
          ],
          activities: {
            morning: [
              "Street Art & Vintage Cinema Walking Tour",
              "Visit Livraria Lello bookstore",
              "Coffee at Combi Roasters or 7g Roaster",
            ],
            afternoon: [
              "Climb Clérigos Tower for panoramic views",
              "Lunch at Cantina 32 (stylish comfort food)",
              "Explore Neonia Museum (interactive neon art)",
            ],
            evening: [
              "Rooftop drinks & sunset at The Rebello",
              "Michelin dinner at The Yeatman or Jazz at Casa da Música",
            ],
          },
          mapPoints: ["porto"],
        },
        3: {
          title: "Porto → Douro Valley",
          date: "Monday, Oct 27",
          route:
            "🚘 Drive time: ~2 hours (via A4 scenic route) <br> Porto → Peso da Régua → Pinhão → Samodães ",
          highlights: [
            {
              title: "Peso da Régua Viewpoint",
              description: "Scenic stop for photos during the drive.",
              mapLink: "https://maps.app.goo.gl/Qm6Ns1R4P38nhyj96",
            },
            {
              title: "Private Douro River Cruise",
              description:
                "2-hour cruise from Pinhão with light lunch and mocktails.",
              mapLink: "https://maps.google.com/?q=Pinhao+Douro+River+Portugal",
            },
            {
              title: "Winery Visit",
              description:
                "Quinta da Pacheca / Quinta Nova with grape juice tasting for kids.",
              mapLink: "https://maps.google.com/?q=Quinta+da+Pacheca+Douro",
            },
          ],
          accommodation: {
            title: "Douro Valley Accommodation (Oct 27-28)",
            options: [
              {
                name: "Six Senses Douro Valley",
                details: "2-Bedroom Pool Villa | private terrace | organic spa",
                link: "https://www.sixsenses.com/en/resorts/douro-valley",
              },
            ],
          },
          activities: {
            morning: [
              "Depart Porto at 10:00 AM",
              "Scenic stop at Peso da Régua Viewpoint",
            ],
            afternoon: [
              "Check-in at Six Senses Douro Valley",
              "Private 2-hour Douro River Cruise from Pinhão",
              "Optional winery visit with grape juice tasting",
            ],
            evening: [
              "Dinner at Six Senses Restaurant (farm-to-table)",
              "Family Movie Night or Heated Pool",
            ],
          },
          mapPoints: ["porto", "douro"],
        },
        4: {
          title: "Douro Valley → Serra da Estrela",
          date: "Tuesday, Oct 28",
          route:
            "🚘 Drive time: ~3 hours (mountain route) <br> Six Senses Douro Valley → Peso da Régua → Belmonte → Manteigas",
          highlights: [
            {
              title: "Belmonte Village",
              description:
                "Optional stop at medieval streets & panoramic photo spots.",
              mapLink: "https://maps.google.com/?q=Belmonte+Portugal",
            },
            {
              title: "Guided Family Hike",
              description:
                "Family-friendly route, 2-3 hours with scenic meadow picnic.",
              mapLink:
                "https://maps.google.com/?q=Serra+da+Estrela+hiking+trails",
            },
            {
              title: "Covão dos Conchos",
              description: "Artificial lake in the Serra da Estrela mountains",
              mapLink: "https://maps.app.goo.gl/c159vP9fMmLBzfCY9",
            },
            {
              title: "Kayaking at Rossim Valley",
              description: "Optional water activity if weather allows.",
              mapLink:
                "https://maps.google.com/?q=Lagoa+do+Rossim+Serra+da+Estrela",
            },
          ],
          accommodation: {
            title: "Serra da Estrela Accommodation (Oct 28-29)",
            options: [
              {
                name: "Casa das Penhas Douradas",
                details:
                  "1 Suite + 1 Double Room | Mountain view balcony | cozy eco-lodge",
                link: "https://www.penhasdouradas.com/",
              },
            ],
          },
          activities: {
            morning: [
              "Vineyard breakfast & departure at 10:30 AM",
              "Scenic route through Peso da Régua and Vila Real",
              "Optional stop at Belmonte Village",
            ],
            afternoon: [
              "Check-in at Casa das Penhas Douradas",
              "Guided family hike (2-3 hours)",
              "Private picnic in scenic meadow",
              "Visit Covão dos Conchos",
              "Optional: Kayaking at Rossim Valley Lagoon",
            ],
            evening: [
              "Dinner at Casa das Penhas Douradas Restaurant",
              "Optional Night Kayak at Rossim Valley Lagoon",
              "Rainy-day backup: Indoor pool, spa, board games, fireplace dinner",
            ],
          },
          mapPoints: ["douro", "serra"],
        },
        5: {
          title: "Serra da Estrela → Alentejo (Monsaraz)",
          date: "Wednesday, Oct 29",
          route: "🚘 Drive time: ~3h30",
          highlights: [
            {
              title: "Monsaraz Medieval Village",
              description: "Village walk + castle sunset views.",
              mapLink: "https://maps.google.com/?q=Monsaraz+Portugal",
            },
            {
              title: "Horseback Riding",
              description: "Horseback riding or cycling through the vineyards.",
              mapLink:
                "https://maps.google.com/?q=Sao+Lourenco+do+Barrocal+Alentejo",
            },
            {
              title: "Alqueva Dark Sky Reserve",
              description:
                "Stargazing in the world's first certified dark sky reserve.",
              mapLink:
                "https://maps.google.com/?q=Alqueva+Dark+Sky+Reserve+Portugal",
            },
          ],
          accommodation: {
            title: "Alentejo Accommodation (Oct 29-30)",
            options: [
              {
                name: "São Lourenço do Barrocal",
                details:
                  "2-Bedroom Meadow Cottage | farm breakfast, spa, free bikes included",
                link: "https://www.barrocal.pt/en/",
              },
            ],
          },
          activities: {
            afternoon: [
              "Arrive in Monsaraz",
              "Medieval village walk + castle sunset",
              "Horseback riding or cycling through vineyards",
            ],
            evening: [
              "Stargazing at Alqueva Dark Sky Reserve",
              "Farm-to-table dinner at Barrocal Restaurant",
              "Rain backup: Family spa & relaxation night",
            ],
          },
          mapPoints: ["serra", "alentejo"],
        },
        6: {
          title: "Alentejo → Lisbon",
          date: "Thursday, Oct 30",
          route: "🚘 Drive time: ~2h30",
          highlights: [
            {
              title: "Farm Breakfast & Workshop",
              description: "Pottery or tile workshop at the farm.",
              mapLink:
                "https://maps.google.com/?q=Sao+Lourenco+do+Barrocal+Alentejo",
            },
            {
              title: "Évora (Optional Stop)",
              description: "Historic city with Roman temple and bone chapel.",
              mapLink: "https://maps.google.com/?q=Evora+Portugal",
            },
          ],
          activities: {
            morning: [
              "Farm breakfast",
              "Pottery or tile workshop",
              "Depart for Lisbon via Évora",
            ],
            afternoon: ["Optional stop in Évora", "Arrive in Lisbon"],
          },
          mapPoints: ["alentejo", "evora", "lisbon"],
        },
      };

      function showDay(dayNum) {
        currentDay = dayNum;

        // Update active button
        document
          .querySelectorAll(".day-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document
          .querySelectorAll(".day-btn")
          [dayNum - 1].classList.add("active");

        // Update content
        const day = dayData[dayNum];
        const content = document.getElementById("day-content");

        let html = `
                <div class="day-header">
                    <div class="day-number">${dayNum}</div>
                    <div class="day-info">
                        <h2>${day.title}</h2>
                        <p>${day.date}</p>
                    </div>
                </div>
            `;

        if (day.route) {
          html += `
                    <div class="route-info">
                        <h3>🗺️ Route Information</h3>
                        <p>${day.route}</p>
                    </div>
                `;
        }

        if (day.highlights) {
          html += `
                    <div class="section">
                        <h3>🌟 Highlights</h3>
                        ${day.highlights
                          .map(
                            (highlight) => `
                            <div class="highlight-item">
                                <h4>${highlight.title}</h4>
                                <p>${highlight.description}</p>
                                ${
                                  highlight.mapLink
                                    ? `<a href="${highlight.mapLink}" target="_blank" rel="noopener noreferrer" class="map-link">📍 View on Map</a>`
                                    : ""
                                }
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                `;
        }

        if (day.accommodation) {
          html += `
    <div class="section">
        <h3>🏨 Accommodation</h3>
        <div class="accommodation">
            <h4>${day.accommodation.title}</h4>
            <div class="hotel-options">
                ${day.accommodation.options
                  .map(
                    (hotel) => `
                    <a href="${hotel.link}" target="_blank" rel="noopener noreferrer" class="hotel-option">
                        <h5>${hotel.name}</h5>
                        <p>${hotel.details}</p>
                    </a>
                `
                  )
                  .join("")}
            </div>
        </div>
    </div>
  `;
        }

        if (day.activities) {
          html += `
                    <div class="section">
                        <h3>🎯 Daily Activities</h3>
                        <div class="activities">
                `;

          Object.entries(day.activities).forEach(([time, activities]) => {
            const timeEmoji =
              time === "morning" ? "🌅" : time === "afternoon" ? "☀️" : "🌙";
            html += `
                        <div class="activity-time">
                            <h4>${timeEmoji} ${
              time.charAt(0).toUpperCase() + time.slice(1)
            }</h4>
                            <ul class="activity-list">
                                ${activities
                                  .map((activity) => `<li>${activity}</li>`)
                                  .join("")}
                            </ul>
                        </div>
                    `;
          });

          html += `
                        </div>
                    </div>
                `;
        }

        content.innerHTML = html;

        // Update map
        updateMap(day.mapPoints);
      }

      function updateMap(points) {
        // Clear existing markers and routes
        map.eachLayer((layer) => {
          if (layer instanceof L.Marker || layer instanceof L.Polyline) {
            map.removeLayer(layer);
          }
        });

        if (!points || points.length === 0) return;

        const routeCoords = [];
        const colors = {
          lisbon: "#ef4444",
          nazare: "#3b82f6",
          aveiro: "#3b82f6",
          porto: "#10b981",
          douro: "#10b981",
          serra: "#10b981",
          alentejo: "#10b981",
          evora: "#f59e0b",
        };

        const names = {
          lisbon: "Lisbon",
          nazare: "Nazaré",
          aveiro: "Aveiro",
          porto: "Porto",
          douro: "Douro Valley",
          serra: "Serra da Estrela",
          alentejo: "Alentejo (Monsaraz)",
          evora: "Évora",
        };

        // Add markers for each point
        points.forEach((point, index) => {
          const coord = locations[point];
          if (coord) {
            routeCoords.push(coord);

            const marker = L.circleMarker(coord, {
              color: colors[point] || "#3b82f6",
              fillColor: colors[point] || "#3b82f6",
              fillOpacity: 0.8,
              radius: 8,
              weight: 2,
            }).addTo(map);

            marker.bindPopup(
              `<strong>${names[point]}</strong><br>Day ${currentDay} - Stop ${
                index + 1
              }`
            );
          }
        });

        // Draw route line
        if (routeCoords.length > 1) {
          L.polyline(routeCoords, {
            color: "#667eea",
            weight: 3,
            opacity: 0.7,
            dashArray: "10, 5",
          }).addTo(map);
        }

        // Fit map to show all points
        if (routeCoords.length > 0) {
          const group = new L.featureGroup(
            map.getLayers().filter((layer) => layer instanceof L.CircleMarker)
          );
          if (group.getLayers().length > 0) {
            map.fitBounds(group.getBounds().pad(0.1));
          }
        }
      }

      // Initialize everything when page loads
      document.addEventListener("DOMContentLoaded", function () {
        initMap();
        showDay(1);
      });
    </script>
    <script>
      (function () {
        function c() {
          var b = a.contentDocument || a.contentWindow.document;
          if (b) {
            var d = b.createElement("script");
            d.innerHTML =
              "window.__CF$cv$params={r:'991c426eb43fe3bd',t:'MTc2MTAwMjU3MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";
            b.getElementsByTagName("head")[0].appendChild(d);
          }
        }
        if (document.body) {
          var a = document.createElement("iframe");
          a.height = 1;
          a.width = 1;
          a.style.position = "absolute";
          a.style.top = 0;
          a.style.left = 0;
          a.style.border = "none";
          a.style.visibility = "hidden";
          document.body.appendChild(a);
          if ("loading" !== document.readyState) c();
          else if (window.addEventListener)
            document.addEventListener("DOMContentLoaded", c);
          else {
            var e = document.onreadystatechange || function () {};
            document.onreadystatechange = function (b) {
              e(b);
              "loading" !== document.readyState &&
                ((document.onreadystatechange = e), c());
            };
          }
        }
      })();
    </script>
  </body>
</html>
