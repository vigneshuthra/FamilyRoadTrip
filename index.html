<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Portugal Luxury Family Road Trip</title>

    <!-- Leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap");

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Inter", sans-serif;
        background: #0a0a0a;
        color: #e8e8e8;
        min-height: 100vh;
        line-height: 1.7;
        -webkit-font-smoothing: antialiased;
        position: relative;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(
            ellipse at top right,
            rgba(212, 175, 55, 0.08) 0%,
            transparent 50%
          ),
          radial-gradient(
            ellipse at bottom left,
            rgba(139, 92, 246, 0.06) 0%,
            transparent 50%
          );
        pointer-events: none;
        z-index: 0;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 24px;
        position: relative;
        z-index: 1;
      }

      .header {
        text-align: center;
        margin-bottom: 60px;
        position: relative;
      }

      .header::before {
        content: "✦";
        position: absolute;
        top: -32px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 24px;
        color: #d4af37;
        opacity: 0.6;
      }

      .header h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.5rem, 6vw, 4.5rem);
        font-weight: 900;
        letter-spacing: -0.02em;
        background: linear-gradient(
          135deg,
          #d4af37 0%,
          #f4e5c2 50%,
          #d4af37 100%
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 16px;
        line-height: 1.1;
      }

      .header .subtitle {
        font-size: 1.1rem;
        color: #a0a0a0;
        font-weight: 300;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        font-size: 0.9rem;
      }

      .trip-overview {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.03) 0%,
          rgba(255, 255, 255, 0.01) 100%
        );
        border: 1px solid rgba(212, 175, 55, 0.2);
        border-radius: 24px;
        padding: 32px;
        margin-bottom: 48px;
        backdrop-filter: blur(10px);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      .overview-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 24px;
      }

      .overview-card {
        padding: 24px;
        border-radius: 16px;
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: all 0.3s ease;
      }

      .overview-card:hover {
        transform: translateY(-4px);
        border-color: rgba(212, 175, 55, 0.3);
        box-shadow: 0 12px 24px rgba(212, 175, 55, 0.1);
      }

      .overview-card h3 {
        font-size: 0.85rem;
        color: #d4af37;
        margin-bottom: 12px;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        font-weight: 600;
      }

      .overview-card p {
        color: #c0c0c0;
        font-size: 1rem;
        line-height: 1.6;
      }

      .day-selector {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: center;
        margin-bottom: 48px;
      }

      .day-btn {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 14px 24px;
        border-radius: 50px;
        cursor: pointer;
        color: #e0e0e0;
        font-weight: 500;
        font-size: 0.95rem;
        transition: all 0.3s ease;
        letter-spacing: 0.02em;
      }

      .day-btn:hover {
        background: rgba(212, 175, 55, 0.1);
        border-color: rgba(212, 175, 55, 0.3);
        transform: translateY(-2px);
      }

      .day-btn.active {
        background: linear-gradient(135deg, #d4af37 0%, #f4e5c2 100%);
        color: #0a0a0a;
        border-color: transparent;
        box-shadow: 0 8px 24px rgba(212, 175, 55, 0.3);
        font-weight: 600;
      }

      .content-grid {
        display: grid;
        grid-template-columns: 1fr 420px;
        gap: 32px;
        align-items: start;
      }

      .day-content {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.04) 0%,
          rgba(255, 255, 255, 0.02) 100%
        );
        border-radius: 24px;
        padding: 40px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(10px);
      }

      .map-container {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.04) 0%,
          rgba(255, 255, 255, 0.02) 100%
        );
        border-radius: 24px;
        padding: 28px;
        border: 1px solid rgba(212, 175, 55, 0.2);
        position: sticky;
        top: 24px;
        backdrop-filter: blur(10px);
      }

      .map-container h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.3rem;
        margin-bottom: 20px;
        color: #d4af37;
        font-weight: 600;
      }

      #map {
        height: 450px;
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        overflow: hidden;
      }

      .day-header {
        display: flex;
        gap: 24px;
        align-items: center;
        margin-bottom: 32px;
        border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        padding-bottom: 24px;
      }

      .day-number {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: "Playfair Display", serif;
        font-weight: 700;
        font-size: 1.8rem;
        color: #0a0a0a;
        background: linear-gradient(135deg, #d4af37 0%, #f4e5c2 100%);
        box-shadow: 0 8px 24px rgba(212, 175, 55, 0.3);
        flex-shrink: 0;
      }

      .day-info h2 {
        font-family: "Playfair Display", serif;
        font-size: 1.8rem;
        color: #fff;
        margin-bottom: 8px;
        font-weight: 700;
      }

      .day-info p {
        color: #a0a0a0;
        font-size: 0.95rem;
        letter-spacing: 0.05em;
      }

      .route-info {
        margin: 24px 0;
        padding: 20px;
        border-radius: 16px;
        background: rgba(212, 175, 55, 0.08);
        border: 1px solid rgba(212, 175, 55, 0.2);
        border-left: 4px solid #d4af37;
      }

      .route-info strong {
        color: #d4af37;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      .section {
        margin-bottom: 32px;
      }

      .section h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.3rem;
        margin-bottom: 16px;
        color: #f0f0f0;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
      }

      .luxury-moment {
        background: linear-gradient(
          135deg,
          rgba(212, 175, 55, 0.1) 0%,
          rgba(212, 175, 55, 0.05) 100%
        );
        border-left: 4px solid #d4af37;
        padding: 20px;
        border-radius: 12px;
        color: #f4e5c2;
        font-style: italic;
        line-height: 1.7;
      }

      .luxury-moment h3 {
        font-style: normal;
        color: #d4af37;
        margin-bottom: 12px;
      }

      .highlight-item {
        background: rgba(0, 0, 0, 0.3);
        border-left: 3px solid #8b5cf6;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 12px;
        transition: all 0.3s ease;
      }

      .highlight-item:hover {
        background: rgba(139, 92, 246, 0.08);
        transform: translateX(4px);
      }

      .highlight-item h4 {
        color: #c4b5fd;
        margin-bottom: 8px;
        font-size: 1.05rem;
      }

      .highlight-item p {
        color: #d0d0d0;
        line-height: 1.6;
      }

      .accommodation {
        background: linear-gradient(
          135deg,
          rgba(16, 185, 129, 0.08) 0%,
          rgba(16, 185, 129, 0.03) 100%
        );
        border-radius: 16px;
        padding: 24px;
        border: 1px solid rgba(16, 185, 129, 0.2);
      }

      .accommodation h4 {
        color: #6ee7b7;
        margin-bottom: 16px;
        font-size: 1.1rem;
      }

      .hotel-options {
        display: grid;
        gap: 12px;
      }

      .hotel-option {
        display: block;
        text-decoration: none;
        background: rgba(0, 0, 0, 0.4);
        padding: 18px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: all 0.3s ease;
      }

      .hotel-option:hover {
        transform: translateY(-4px);
        background: rgba(16, 185, 129, 0.1);
        border-color: rgba(16, 185, 129, 0.3);
        box-shadow: 0 12px 24px rgba(16, 185, 129, 0.15);
      }

      .hotel-option h5 {
        color: #6ee7b7;
        margin-bottom: 8px;
        font-size: 1.05rem;
      }

      .hotel-option p {
        color: #c0c0c0;
        margin: 0;
        font-size: 0.95rem;
        line-height: 1.6;
      }

      .family-highlights ul,
      .exclusive-experiences ul,
      .suggested-schedule ul {
        list-style: none;
        padding-left: 0;
      }

      .family-highlights li,
      .exclusive-experiences li,
      .suggested-schedule li {
        padding: 12px 0 12px 24px;
        color: #d0d0d0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        position: relative;
      }

      .family-highlights li::before,
      .exclusive-experiences li::before,
      .suggested-schedule li::before {
        content: "→";
        position: absolute;
        left: 0;
        color: #d4af37;
        font-weight: bold;
      }

      .rocket-note {
        margin-top: 24px;
        padding: 20px;
        border-radius: 12px;
        background: linear-gradient(
          135deg,
          rgba(212, 175, 55, 0.1) 0%,
          rgba(212, 175, 55, 0.05) 100%
        );
        border-left: 4px solid #d4af37;
        color: #f4e5c2;
        font-style: italic;
        line-height: 1.7;
      }

      .map-link {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
        color: white;
        padding: 10px 18px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 500;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        margin-top: 8px;
      }

      .map-link:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(139, 92, 246, 0.3);
      }

      .legend {
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .legend-title {
        font-weight: 600;
        color: #d4af37;
        margin-bottom: 12px;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.1em;
      }

      .legend-item {
        display: flex;
        gap: 12px;
        align-items: center;
        margin-bottom: 8px;
        color: #c0c0c0;
        font-size: 0.9rem;
      }

      .legend-dot {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        flex-shrink: 0;
      }

      @media (max-width: 1024px) {
        .content-grid {
          grid-template-columns: 1fr;
        }
        .map-container {
          position: static;
        }
        .header h1 {
          font-size: 2.5rem;
        }
        .day-content {
          padding: 28px;
        }
      }

      @media (max-width: 640px) {
        .container {
          padding: 24px 16px;
        }
        .day-selector {
          gap: 8px;
        }
        .day-btn {
          padding: 10px 16px;
          font-size: 0.85rem;
        }
        .day-header {
          flex-direction: column;
          align-items: flex-start;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="header">
        <h1>Family Road Trip</h1>
        <p class="subtitle">
          October 25–30, 2025 • Portugal Discovery Journey
        </p>
      </div>

      <div class="trip-overview">
        <div class="overview-grid">
          <div class="overview-card">
            <h3>🗺️ Route</h3>
            <p>
              LISBON → NAZARÉ → AVEIRO → PORTO → DOURO VALLEY → SERRA DA ESTRELA
              → LISBON
            </p>
          </div>

          <div class="overview-card">
            <h3>📅 Duration</h3>
            <p>6 days, 5 nights — total driving: ~12 hours (relaxed pace)</p>
          </div>
        </div>
      </div>

      <div class="day-selector" id="day-selector"></div>

      <div class="content-grid">
        <div class="day-content" id="day-content"></div>

        <aside class="map-container">
          <h3>📍 Interactive Route Map</h3>
          <div id="map"></div>

          <div class="legend">
            <div class="legend-title">Legend</div>
            <div class="legend-item">
              <div class="legend-dot" style="background: #ef4444"></div>
              <div>Start/End</div>
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background: #3b82f6"></div>
              <div>Attractions</div>
            </div>
            <div class="legend-item">
              <div class="legend-dot" style="background: #10b981"></div>
              <div>Accommodations</div>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <script>
      let map;
      let tileLayer;
      let activeMarkers = [];
      let activePolyline = null;

      function initMap() {
        map = L.map("map").setView([39.5, -8.0], 7);
        tileLayer = L.tileLayer(
          "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
          {
            attribution: "© OpenStreetMap contributors",
          }
        );
        tileLayer.addTo(map);
      }

      const locations = {
        lisbon: [38.7223, -9.1393],
        nazare: [39.6017, -9.0708],
        aveiro: [40.6443, -8.6455],
        porto: [41.1579, -8.6291],
        douro: [41.1621, -7.7871],
        serra: [40.3947, -7.6204],
      };

      const dayData = {
        1: {
          title: "Lisbon → Nazaré → Aveiro → Porto",
          date: "Saturday, Oct 25",
          route: {
            description:
              "Lisbon → Nazaré (1h15) → Aveiro (1h) → Porto (1h) — total ~3h driving (scenic coastal + estuarine stops).",
            mapLink:
              "https://www.google.com/maps/dir/Lisbon/Nazar%C3%A9/Aveiro/Porto",
          },
          highlights: [
            {
              title: "Praia da Nazaré & Miradouro do Suberco",
              description:
                "Witness the legendary surf waves and panoramic cliff views.",
              mapLink: "https://maps.app.goo.gl/3iB6Ko8odcw5q4Gg6",
            },
            {
              title: "Costa Nova (Aveiro)",
              description:
                "Colorful striped fishermen houses — great for family photos.",
              mapLink: "https://maps.app.goo.gl/BmruEP8HPDrh3wxz5",
            },
            {
              title: "Moliceiro boat ride (Aveiro)",
              description: "Relaxing 30–45min canal tour with commentary.",
              mapLink: "https://maps.app.goo.gl/F7vjYCqTzkoAxTJR7",
            },
          ],
          accommodation: {
            title: "Porto Accommodation (Oct 25–27)",
            options: [
              {
                name: "The Rebello Hotel — 5⭐",
                details:
                  "Chic suites with rooftop pool and family-friendly facilities.",
                link: "https://www.therebello.com/",
              },
            ],
          },
          foodPlaces: [
            {
              name: "Pangeia By The Sea ⭐",
              description: "Coastal dining with fresh seafood and ocean views.",
            },
            {
              name: "Do Norte Café",
              description: "Traditional Portuguese café with local pastries.",
            },
            {
              name: "Floresta Cafe by Hungry Biker",
              description:
                "Trendy spot with hearty brunches and specialty coffee.",
            },
            {
              name: "Majestic Café",
              description: "Historic Belle Époque café — Porto's iconic gem.",
            },
            {
              name: "Burga Ramen ⭐",
              description: "Authentic ramen bowls perfect for a cozy dinner.",
            },
            {
              name: "Holy Sandwich Shop",
              description:
                "Creative sandwiches and quick bites for the family.",
            },
          ],
          activities: [
            {
              name: "Aveiro Traditional Moliceiro Boat Tour ⭐",
              link: "https://www.getyourguide.com/aveiro-l2459/aveiro-traditional-moliceiro-boat-tour-t393116/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Harry Potter Guided Walking Tour",
              link: "https://www.getyourguide.com/porto-l151/porto-harry-potter-guided-walking-tour-t429608/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto/Maia Indoor Skydiving Experience",
              link: "https://www.getyourguide.com/maia-l101859/portomaia-indoor-skydiving-experience-t728245/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Spiritus Multimedia Show",
              link: "https://www.getyourguide.com/porto-l151/porto-spiritus-multimedia-show-entry-ticket-t416811/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Charming Sailboat Cruise with Port Wine",
              link: "https://www.getyourguide.com/vila-nova-de-gaia-l91806/porto-charming-sailboat-cruise-with-port-winesunset-option-t439369/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Classic Boat Cruise Along the Douro River ⭐",
              link: "https://www.getyourguide.com/vila-nova-de-gaia-l91806/porto-classic-boat-cruise-along-the-douro-river-t483449/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
          ],
          familyHighlights: [
            "Spacious family suites with river views (kids sleep comfortably).",
            "Short driving segments — minimal transit fatigue for kids.",
            "Kid-friendly dining options near Ribeira waterfront.",
          ],
          luxuryMoment:
            "Private rooftop dinner or a Michelin tasting at The Rebello — perfect for a family celebration.",
          exclusiveExperiences: [
            "Private moliceiro boat just for the family (book ahead).",
            "Priority seating at a Michelin tasting menu (reserve in advance).",
          ],
          suggestedSchedule: {
            morning: [
              "08:30 — Depart Lisbon",
              "10:00 — Nazaré miradouro & beach walk",
            ],
            afternoon: [
              "13:00 — Lunch in Aveiro (riverside)",
              "15:00 — Moliceiro boat ride & transfer to Porto",
            ],
            evening: ["19:00 — Check-in & dinner at hotel restaurant"],
          },
          rocketNote:
            "MrR0cket's Tip: Bring a light windbreaker for Nazaré — coastal wind is real but views are cinematic.",
          mapPoints: ["lisbon", "nazare", "aveiro", "porto"],
        },

        2: {
          title: "Explore Porto",
          date: "Sunday, Oct 26",
          route: {
            description:
              "Full relaxed day in Porto — city walking, viewpoints and rooftop cocktails.",
            mapLink: "https://www.google.com/maps/place/Porto,+Portugal",
          },
          highlights: [
            {
              title: "Livraria Lello & Clérigos",
              description:
                "Iconic bookstore and baroque tower — great early morning to avoid crowds.",
              mapLink: "https://maps.google.com/?q=Livraria+Lello+Porto",
            },
            {
              title: "Street Art & Vintage Cinema Tour",
              description:
                "Explore hidden murals and historic cinemas — fun for teens and curious kids.",
              mapLink: "https://maps.app.goo.gl/XLSpjNj4gMGWrhxU8",
            },
            {
              title: "Neonia Museum",
              description:
                "Interactive neon installations — visually captivating for the whole family.",
              mapLink: "https://maps.google.com/?q=Neonia+Museum+Porto",
            },
          ],
          foodPlaces: [
            {
              name: "Combi Roasters",
              description:
                "Specialty coffee and brunch in a vintage VW van setting.",
            },
            {
              name: "7G Roaster & Brewery",
              description:
                "Craft coffee and beer with kid-friendly food options.",
            },
            {
              name: "Do Norte Café ⭐",
              description: "Traditional Portuguese café with local pastries.",
            },
            {
              name: "Floresta Cafe by Hungry Biker",
              description:
                "Trendy spot with hearty brunches and specialty coffee.",
            },
            {
              name: "Majestic Café ⭐",
              description: "Historic Belle Époque café — Porto's iconic gem.",
            },
            {
              name: "Burga Ramen",
              description: "Authentic ramen bowls perfect for a cozy dinner.",
            },
            {
              name: "Holy Sandwich Shop ⭐",
              description:
                "Creative sandwiches and quick bites for the family.",
            },
            {
              name: "Confeitaria do Bolhão",
              description:
                "Traditional pastry shop for authentic Portuguese treats.",
            },
          ],
          activities: [
            {
              name: "Porto Clérigos Tower Entry Ticket",
              link: "https://www.getyourguide.com/porto-l151/torre-dos-clerigos-entrance-ticket-t57114/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Neonia Interactive Museum Entry",
              link: "https://www.neonia.pt/en/",
            },
            {
              name: "Porto Harry Potter Guided Walking Tour ⭐",
              link: "https://www.getyourguide.com/porto-l151/porto-harry-potter-guided-walking-tour-t429608/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto/Maia Indoor Skydiving Experience",
              link: "https://www.getyourguide.com/maia-l101859/portomaia-indoor-skydiving-experience-t728245/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Spiritus Multimedia Show ⭐",
              link: "https://www.getyourguide.com/porto-l151/porto-spiritus-multimedia-show-entry-ticket-t416811/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Charming Sailboat Cruise with Port Wine ⭐",
              link: "https://www.getyourguide.com/vila-nova-de-gaia-l91806/porto-charming-sailboat-cruise-with-port-winesunset-option-t439369/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Porto Classic Boat Cruise Along the Douro River",
              link: "https://www.getyourguide.com/vila-nova-de-gaia-l91806/porto-classic-boat-cruise-along-the-douro-river-t483449/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
          ],
          accommodation: {
            title: "Stay in Porto (same as last night)",
            options: [
              {
                name: "The Rebello Hotel — Rooftop",
                details: "Sunset rooftop for family cocktails and views.",
                link: "https://www.therebello.com/",
              },
            ],
          },
          familyHighlights: [
            "Short walking distances between key sights.",
            "Cafés with high chairs and family menus (Combi Roasters, 7G).",
            "Accessible elevator routes around the Ribeira area for strollers.",
          ],
          luxuryMoment:
            "Sunset at The Rebello rooftop with cocktails and private table for family photos.",
          exclusiveExperiences: [
            "Private guided street art tour tailored for families.",
            "After-hours access to a small gallery or cinema (arranged ahead).",
          ],
          suggestedSchedule: {
            morning: [
              "09:00 — Breakfast & street art walk",
              "11:00 — Livraria Lello (early slot)",
            ],
            afternoon: [
              "13:00 — Lunch at Cantina 32",
              "15:00 — Neonia Interactive visit",
            ],
            evening: [
              "18:00 — Rooftop drinks & sunset at The Rebello",
              "20:00 — Optional Michelin dinner",
            ],
          },
          rocketNote:
            "MrR0cket's Tip: Book Livraria Lello timed entry early — do the rooftop later for sunset.",
          mapPoints: ["porto"],
        },

        3: {
          title: "Porto → Douro Valley",
          date: "Monday, Oct 27",
          route: {
            description:
              "Porto → Peso da Régua → Pinhão — ~120 km scenic drive (~1h40) via A4 — vineyard-lined roads.",
            mapLink:
              "https://www.google.com/maps/dir/Porto/Peso+da+R%C3%A9gua/Pinh%C3%A3o",
          },
          highlights: [
            {
              title: "Peso da Régua Viewpoint",
              description: "Short photo stop and stretch legs before Pinhão.",
              mapLink: "https://maps.app.goo.gl/Qm6Ns1R4P38nhyj96",
            },
            {
              title: "Private Douro River Cruise",
              description:
                "2-hour private cruise with light lunch — family friendly.",
              mapLink: "https://maps.google.com/?q=Pinhao+Douro+River+Portugal",
            },
          ],
          foodPlaces: [
            {
              name: "DOC Restaurant (Folgosa)",
              description:
                "Michelin-starred riverside dining with stunning Douro views.",
            },
            {
              name: "Castas e Pratos (Pinhão)",
              description:
                "Traditional Portuguese cuisine in the heart of wine country.",
            },
            {
              name: "Veladouro Restaurant",
              description:
                "Local dishes with terrace overlooking the vineyards.",
            },
            {
              name: "Restaurante Rabelo",
              description:
                "Family-friendly spot with regional specialties and river views.",
            },
            {
              name: "The Vintage House Restaurant",
              description:
                "Elegant dining with wine pairings and kid-friendly options.",
            },
          ],
          activities: [
            {
              name: "Pinhao- River Douro on SpeedBoat Tour with water sports ⭐",
              link: "https://www.getyourguide.com/douro-river-l4071/pinhao-river-douro-speedboat-tour-with-water-sports-t385356/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "516 Arouca Hanging Bridge ⭐",
              link: "https://www.getyourguide.com/alvarenga-l187055/from-arouca-516-arouca-bridge-paiva-walkways-guided-tour-t496795/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Douro Valley Private Tour on solar powered boat",
              link: "https://www.getyourguide.com/pinhao-l89870/pinhao-douro-river-solar-boat-tour-with-wine-tasting-t611115/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Douro River Cruise from Pinhão ⭐",
              link: "https://www.getyourguide.com/pinhao-l89870/pinhao-douro-river-1-hour-boat-trip-with-port-wine-t626174/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrROcket_Porto_activities",
            },
            {
              name: "Quinta do Tedo Wine & Olive Oil Tasting",
              link: "https://www.quintadotedo.com/en/",
            },
          ],
          accommodation: {
            title: "Douro Valley Accommodation (Oct 27–28)",
            options: [
              {
                name: "Octant Douro",
                details:
                  "Modern riverside hotel with family-friendly amenities and stunning Douro views.",
                link: "https://www.octanthotels.com/douro/",
              },
            ],
          },
          familyHighlights: [
            "Private villa options with pool and kid-friendly menus.",
            "Short on-site activities for kids (movie night, pool).",
            "Guided vineyard visits with non-alcoholic tastings for children.",
          ],
          luxuryMoment:
            "Private sunset cruise on Douro with chef-prepared picnic — unforgettable family moment.",
          exclusiveExperiences: [
            "Chef's table for the family at the resort.",
            "Private grape-juice tasting & kids' grape stomp (seasonal).",
          ],
          suggestedSchedule: {
            morning: [
              "10:00 — Depart Porto",
              "11:30 — Peso da Régua viewpoint stop",
            ],
            afternoon: [
              "14:00 — Check-in at Octant Douro",
              "16:00 — Private river cruise",
            ],
            evening: ["19:30 — Dinner at Octant Douro — family menu available"],
          },
          rocketNote:
            "MrR0cket's Tip: Reserve the family river cruise and a chef's-table slot well in advance for peak weekends.",
          mapPoints: ["porto", "douro"],
        },

        4: {
          title: "Douro Valley → Serra da Estrela",
          date: "Tuesday, Oct 28",
          route: {
            description:
              "Douro Valley → Peso da Régua → Belmonte → Manteigas — mountain route (~3h).",
            mapLink:
              "https://www.google.com/maps/dir/Douro+Valley/Belmonte/Manteigas",
          },
          highlights: [
            {
              title: "Belmonte Village",
              description:
                "Medieval streets and unobstructed panoramic photo spots.",
              mapLink: "https://maps.google.com/?q=Belmonte+Portugal",
            },
            {
              title: "Covão dos Conchos",
              description: "Iconic artificial lake — dramatic nature stop.",
              mapLink: "https://maps.app.goo.gl/c159vP9fMmLBzfCY9",
            },
          ],
          foodPlaces: [
            {
              name: "Casa de São Lourenço Restaurant ⭐",
              description:
                "Mountain cuisine with local ingredients and panoramic views.",
            },
            {
              name: "Restaurante O Albertino (Manteigas)",
              description:
                "Traditional Serra da Estrela dishes and hearty soups.",
            },
            {
              name: "Restaurante Brisas da Gardunha (Belmonte)",
              description:
                "Family-run restaurant with authentic regional cuisine.",
            },
            {
              name: "Hotel Berne Restaurant ⭐",
              description:
                "Cozy mountain dining with fireplace and comfort food.",
            },
            {
              name: "Petiscana (Manteigas) ⭐",
              description:
                "Local petiscos and grilled meats in rustic setting.",
            },
          ],
          activities: [
            {
              name: "Serra da Estrela Guided Tour on Jeep ⭐",
              link: "https://www.getyourguide.com/penhas-douradas-l188868/manteigas-2-hour-customizable-4x4-jeep-tour-in-serra-da-estrela-t1106581/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Serra da Estrela Canyoning",
              link: "https://www.getyourguide.com/covilha-l95192/serra-da-estrela-canyoning-t1047549/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Covão dos Conchos Lagoon Guided Walk ⭐",
              link: "https://aldeiashistoricasdeportugal.com/pacote/tour-covao-dos-conchos/",
            },
            {
              name: "Serra da Estrela Cheese Farm Visit",
              link: "https://www.viajecomigo.com/en/things-to-do-serra-da-estrela/",
            },
             {
              name: "Torre and Covao Guided Tour",
              link: "https://www.getyourguide.com/penhas-de-saude-l184902/torre-and-covao-d-metade-t955612/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Poço do Inferno Waterfall Trail ⭐",
              link: "https://www.alltrails.com/pt-pt/trilho/portugal/guarda/pr1-mtg-rota-do-poco-do-inferno",
            },
          ],
          accommodation: {
            title: "Serra da Estrela Accommodation (Oct 28–30)",
            options: [
              {
                name: "Casa de São Lourenço",
                details: "Mountain retreat with stunning views and family-friendly amenities.",
                link: "https://www.casadesaolourenco.com/",
              },
            ],
          },
          familyHighlights: [
            "Mountain-side rooms with private balconies.",
            "Short family-friendly hikes and picnic-ready spaces.",
            "Indoor pool & fireplace options for chill evenings.",
          ],
          luxuryMoment:
            "Private guided family hike to a hidden viewpoint followed by a picnic prepared by the lodge chef.",
          exclusiveExperiences: [
            "Private evening telescope stargazing (local guide).",
            "Guided family nature walk with educator.",
          ],
          suggestedSchedule: {
            morning: [
              "09:30 — Scenic drive through Peso da Régua",
              "12:30 — Lunch stop",
            ],
            afternoon: [
              "15:00 — Check-in & family hike",
              "17:30 — Picnic at viewpoint",
            ],
            evening: ["20:00 — Lodge dinner & board games by the fireplace"],
          },
          rocketNote:
            "MrR0cket's Tip: Pack a small first-aid kit and layered clothing for mountain microclimates.",
          mapPoints: ["douro", "serra"],
        },

        5: {
          title: "Explore Serra da Estrela Region",
          date: "Wednesday, Oct 29",
          route: {
            description:
              "Full day exploring Serra da Estrela — local villages and mountain landscapes.",
            mapLink:
              "https://www.google.com/maps/place/Serra+da+Estrela,+Portugal",
          },
          highlights: [
            {
              title: "Poço do Inferno Waterfall",
              description:
                "Beautiful waterfall with family-friendly hiking trail.",
              mapLink: "https://maps.app.goo.gl/X7HPebUFD3siYaQz6",
            },
            {
              title: "Torre (Highest Point)",
              description:
                "Portugal's highest peak — stunning panoramic mountain views.",
              mapLink: "https://maps.google.com/?q=Torre+Serra+da+Estrela",
            },
            {
              title: "Sabugueiro Village",
              description:
                "Portugal's highest village — authentic mountain culture.",
              mapLink: "https://maps.google.com/?q=Sabugueiro+Portugal",
            },
          ],
          foodPlaces: [
            {
              name: "Casa de São Lourenço Restaurant",
              description:
                "Mountain cuisine with local ingredients and panoramic views.",
            },
            {
              name: "Restaurante O Albertino (Manteigas) ⭐",
              description:
                "Traditional Serra da Estrela dishes and hearty soups.",
            },
            {
              name: "Petiscana (Manteigas) ⭐",
              description:
                "Local petiscos and grilled meats in rustic setting.",
            },
            {
              name: "Hotel Berne Restaurant ⭐",
              description:
                "Cozy mountain dining with fireplace and comfort food.",
            },
            {
              name: "Ti Lena (Sabugueiro)",
              description: "Traditional mountain tavern with local specialties.",
            },
          ],
          activities: [
            {
              name: "Serra da Estrela Guided Tour on Jeep ",
              link: "https://www.getyourguide.com/penhas-douradas-l188868/manteigas-2-hour-customizable-4x4-jeep-tour-in-serra-da-estrela-t1106581/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Serra da Estrela Canyoning ⭐",
              link: "https://www.getyourguide.com/covilha-l95192/serra-da-estrela-canyoning-t1047549/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Covão dos Conchos Lagoon Guided Walk ",
              link: "https://aldeiashistoricasdeportugal.com/pacote/tour-covao-dos-conchos/",
            },
            {
              name: "Serra da Estrela Cheese Farm Visit ⭐",
              link: "https://www.viajecomigo.com/en/things-to-do-serra-da-estrela/",
            },
            {
              name: "Torre and Covao Guided Tour ⭐",
              link: "https://www.getyourguide.com/penhas-de-saude-l184902/torre-and-covao-d-metade-t955612/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Poço do Inferno Waterfall Trail ",
              link: "https://www.alltrails.com/pt-pt/trilho/portugal/guarda/pr1-mtg-rota-do-poco-do-inferno",
            },
          ],
          accommodation: {
            title: "Stay in Serra da Estrela (same accommodation)",
            options: [
              {
                name: "Casa de São Lourenço",
                details: "Continue enjoying mountain retreat amenities.",
                link: "https://casadesaolourenco.pt/en/location-and-contacts/",
              },
            ],
          },
          familyHighlights: [
            "Relaxed day without packing — kids can enjoy hotel amenities.",
            "Short scenic drives to nearby attractions.",
            "Mountain air and outdoor activities for active families.",
          ],
          luxuryMoment:
            "Private mountain picnic prepared by the hotel chef at a scenic viewpoint.",
          exclusiveExperiences: [
            "Private guided 4x4 tour to hidden mountain spots.",
            "Evening bonfire with stargazing at the hotel (weather permitting).",
          ],
          suggestedSchedule: {
            morning: [
              "09:00 — Leisurely breakfast",
              "10:30 — Visit Poço do Inferno or Torre",
            ],
            afternoon: [
              "13:00 — Lunch in Sabugueiro village",
              "15:30 — Cheese farm visit or relax at hotel",
            ],
            evening: [
              "18:00 — Sunset views from hotel terrace",
              "20:00 — Dinner at Casa de São Lourenço",
            ],
          },
          rocketNote:
            "MrR0cket's Tip: The mountain weather can change quickly — pack layers and enjoy the dramatic cloud formations.",
          mapPoints: ["serra"],
        },

        6: {
          title: "Serra da Estrela → Tomar → Lisbon (Return)",
          date: "Thursday, Oct 30",
          route: {
            description:
              "Serra da Estrela → Tomar → Lisbon — scenic return via historic Templar town (~3h30 driving total).",
            mapLink:
              "https://www.google.com/maps/dir/Serra+da+Estrela/Tomar/Lisbon",
          },
          highlights: [
            {
              title: "Convento de Cristo (Tomar)",
              description:
                "UNESCO World Heritage Templar castle & monastery — fascinating medieval architecture.",
              mapLink: "https://maps.google.com/?q=Convento+de+Cristo+Tomar",
            },
            {
              title: "Tomar Historic Center",
              description:
                "Charming riverside town with cafés and artisan shops.",
              mapLink: "https://maps.google.com/?q=Tomar+Portugal+Center",
            },
          ],
          foodPlaces: [
            {
              name: "Taberna Ó Balcão (Tomar)",
              description:
                "Traditional Portuguese tavern with regional specialties.",
            },
            {
              name: "Restaurante Bela Vista (Tomar)",
              description: "Riverside dining with views of the old town.",
            },
            {
              name: "Café Paraíso (Tomar)",
              description:
                "Historic café perfect for coffee and pastries before departure.",
            },
            {
              name: "Napolis (Tomar)",
              description: "Family-friendly pizzeria with quick service.",
            },
          ],
          activities: [
            {
              name: "Convento de Cristo Guided Tour ⭐",
              link: "https://www.getyourguide.com/lisbon-l42/tomar-knight-s-templar-castle-and-convent-of-christ-tour-t830337/?partner_id=UCXJEQX&utm_medium=online_publisher&cmp=MrRocket_suggested_activities",
            },
            {
              name: "Tomar Self-Guided Walking Tour",
              link: "https://www.komoot.com/guide/1208714/walking-in-tomar",
            },
          ],
          dayActivities: {
            morning: ["Leisurely breakfast at Casa de São Lourenço", "Check-out and depart for Tomar"],
            afternoon: [
              "Visit Convento de Cristo (UNESCO site)",
              "Lunch in Tomar historic center",
              "Stroll along the riverside",
              "Continue to Lisbon — arrive late afternoon",
            ],
          },
          familyHighlights: [
            "Cultural stop breaks up the drive — keeps kids engaged.",
            "Castle exploration appeals to all ages.",
            "Easy driving route back to Lisbon.",
          ],
          luxuryMoment:
            "Private guided tour of Convento de Cristo with skip-the-line access and family-focused storytelling.",
          exclusiveExperiences: [
            "Early morning private access to Convento de Cristo (if arranged in advance).",
          ],
          suggestedSchedule: {
            morning: [
              "09:00 — Final breakfast & check-out",
              "10:00 — Depart for Tomar (~2h drive)",
            ],
            afternoon: [
              "12:30 — Arrive Tomar & visit Convento de Cristo",
              "14:30 — Lunch in historic center",
              "16:00 — Drive to Lisbon (~1h30)",
              "17:30 — Arrive Lisbon — end of trip",
            ],
          },
          rocketNote:
            "MrR0cket's Tip: Book Convento de Cristo tickets online in advance to skip queues — the Manueline window alone is worth the stop!",
          mapPoints: ["serra", "lisbon"],
        },
      };

      function createDayButtons() {
        const container = document.getElementById("day-selector");
        container.innerHTML = "";
        Object.keys(dayData).forEach((num) => {
          const btn = document.createElement("button");
          btn.className = "day-btn";
          btn.textContent = `Day ${num} — ${dayData[num].date.split(",")[1].trim()}`;
          btn.addEventListener("click", () => showDay(Number(num)));
          container.appendChild(btn);
        });
      }

      function clearActiveMapLayers() {
        activeMarkers.forEach((m) => {
          if (map && map.hasLayer(m)) map.removeLayer(m);
        });
        activeMarkers = [];

        if (activePolyline && map && map.hasLayer(activePolyline)) {
          map.removeLayer(activePolyline);
        }
        activePolyline = null;
      }

      function updateMap(points) {
        clearActiveMapLayers();
        if (!points || points.length === 0) return;

        const routeCoords = [];
        const colors = {
          lisbon: "#ef4444",
          nazare: "#3b82f6",
          aveiro: "#3b82f6",
          porto: "#10b981",
          douro: "#10b981",
          serra: "#10b981",
        };

        const names = {
          lisbon: "Lisbon",
          nazare: "Nazaré",
          aveiro: "Aveiro",
          porto: "Porto",
          douro: "Douro Valley",
          serra: "Serra da Estrela",
        };

        points.forEach((point, idx) => {
          const coord = locations[point];
          if (!coord) return;
          routeCoords.push(coord);

          const marker = L.circleMarker(coord, {
            color: colors[point] || "#3b82f6",
            fillColor: colors[point] || "#3b82f6",
            fillOpacity: 0.85,
            radius: 8,
            weight: 2,
          }).addTo(map);

          marker.bindPopup(
            `<strong>${names[point] || point}</strong><br>Stop ${idx + 1}`
          );
          activeMarkers.push(marker);
        });

        if (routeCoords.length > 1) {
          activePolyline = L.polyline(routeCoords, {
            color: "#d4af37",
            weight: 3,
            opacity: 0.7,
            dashArray: "10,8",
          }).addTo(map);
        }

        if (activeMarkers.length > 0) {
          const group = L.featureGroup(activeMarkers);
          map.fitBounds(group.getBounds().pad(0.15));
        }
      }

      function showDay(dayNum) {
        const day = dayData[dayNum];
        if (!day) return;

        document
          .querySelectorAll(".day-btn")
          .forEach((b) => b.classList.remove("active"));
        const allBtns = Array.from(document.querySelectorAll(".day-btn"));
        const targetBtn = allBtns[dayNum - 1];
        if (targetBtn) targetBtn.classList.add("active");

        const content = document.getElementById("day-content");
        let html = "";

        html += `
          <div class="day-header">
            <div class="day-number">${dayNum}</div>
            <div class="day-info">
              <h2>${day.title}</h2>
              <p>${day.date}</p>
            </div>
          </div>
        `;

        if (day.route) {
          html += `
            <div class="route-info">
              <strong>🗺️ Route</strong>
              <div style="margin-top:12px;color:#d0d0d0;line-height:1.6">${
                day.route.description || ""
              }</div>
              ${
                day.route.mapLink
                  ? `<div style="margin-top:14px"><a class="map-link" href="${day.route.mapLink}" target="_blank" rel="noopener noreferrer">📍 View Route</a></div>`
                  : ""
              }
            </div>
          `;
        }

        if (day.highlights && day.highlights.length) {
          html += `<div class="section"><h3>🌟 Highlights</h3>`;
          day.highlights.forEach((h) => {
            html += `
              <div class="highlight-item">
                <h4>${h.title}</h4>
                <p>${h.description}</p>
                ${
                  h.mapLink
                    ? `<a class="map-link" href="${h.mapLink}" target="_blank" rel="noopener noreferrer">📍 View on Map</a>`
                    : ""
                }
              </div>
            `;
          });
          html += `</div>`;
        }

        if (day.foodPlaces && day.foodPlaces.length) {
          html += `
            <div class="section">
              <h3>🍽️ Food Places to Try</h3>
              <div style="display:grid;gap:12px">
          `;
          day.foodPlaces.forEach((place) => {
            html += `
              <div style="background:rgba(0,0,0,0.3);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);transition:all 0.3s ease" onmouseover="this.style.background='rgba(212,175,55,0.08)';this.style.borderColor='rgba(212,175,55,0.2)'" onmouseout="this.style.background='rgba(0,0,0,0.3)';this.style.borderColor='rgba(255,255,255,0.08)'">
                <h5 style="color:#d4af37;margin:0 0 8px 0;font-size:1.05rem">${place.name}</h5>
                <p style="margin:0;color:#c0c0c0;font-size:0.95rem;line-height:1.6">${
                  place.description || ""
                }</p>
              </div>
            `;
          });
          html += `</div></div>`;
        }

        if (day.activities && day.activities.length) {
          html += `
            <div class="section">
              <h3>🎯 Activities</h3>
              <div style="display:grid;gap:12px">
          `;
          day.activities.forEach((activity) => {
            html += `
              <a href="${
                activity.link || "#"
              }" target="_blank" rel="noopener noreferrer" style="display:block;text-decoration:none;background:rgba(139,92,246,0.08);padding:16px;border-radius:12px;border:1px solid rgba(139,92,246,0.2);transition:all 0.3s ease" onmouseover="this.style.transform='translateY(-4px)';this.style.boxShadow='0 12px 24px rgba(139,92,246,0.2)'" onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='none'">
                <h5 style="color:#c4b5fd;margin:0;font-size:1.05rem">${activity.name}</h5>
              </a>
            `;
          });
          html += `</div></div>`;
        }

        if (day.accommodation) {
          html += `
            <div class="section">
              <h3>🏨 Accommodation</h3>
              <div class="accommodation">
                <h4>${day.accommodation.title || ""}</h4>
                <div class="hotel-options">
          `;
          day.accommodation.options.forEach((hotel) => {
            html += `
              <a class="hotel-option" href="${
                hotel.link || "#"
              }" target="_blank" rel="noopener noreferrer">
                <h5>${hotel.name}</h5>
                <p>${hotel.details || ""}</p>
              </a>
            `;
          });
          html += `</div></div></div>`;
        }

        if (day.familyHighlights && day.familyHighlights.length) {
          html += `
            <div class="section family-highlights">
              <h3>👨‍👩‍👧 Family Highlights</h3>
              <ul>
                ${day.familyHighlights.map((i) => `<li>${i}</li>`).join("")}
              </ul>
            </div>
          `;
        }

        if (day.luxuryMoment) {
          html += `
            <div class="section luxury-moment">
              <h3>✨ Luxury Moment</h3>
              <div style="margin-top:6px">${day.luxuryMoment}</div>
            </div>
          `;
        }

        if (day.exclusiveExperiences && day.exclusiveExperiences.length) {
          html += `
            <div class="section exclusive-experiences">
              <h3>🔒 Exclusive Experiences</h3>
              <ul>
                ${day.exclusiveExperiences.map((i) => `<li>${i}</li>`).join("")}
              </ul>
            </div>
          `;
        }

        if (day.suggestedSchedule) {
          html += `
            <div class="section suggested-schedule">
              <h3>🕰️ Suggested Schedule</h3>
              ${Object.entries(day.suggestedSchedule)
                .map(
                  ([t, items]) => `
                  <div style="margin-bottom:12px">
                    <strong style="color:#d4af37;text-transform:uppercase;font-size:0.9rem;letter-spacing:0.05em">${
                      t.charAt(0).toUpperCase() + t.slice(1)
                    }</strong>
                    <ul>
                      ${items.map((it) => `<li>${it}</li>`).join("")}
                    </ul>
                  </div>
                `
                )
                .join("")}
            </div>
          `;
        }

        if (day.rocketNote) {
          html += `<div class="rocket-note">${day.rocketNote}</div>`;
        }

        content.innerHTML = html;
        updateMap(day.mapPoints || []);
      }

      document.addEventListener("DOMContentLoaded", () => {
        initMap();
        createDayButtons();
        showDay(1);
      });
    </script>
  </body>
</html>